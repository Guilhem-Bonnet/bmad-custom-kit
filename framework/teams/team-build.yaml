team:
  name: "team-build"
  display_name: "Team Build ‚Äî Engineering & Quality"
  icon: "üî®"
  version: "1.0.0"
  description: "Transforme les specs valid√©es de Team Vision en code fonctionnel, test√©, et document√©. Propri√©taire du COMMENT."

  agents:
    - name: "architect"
      role: "Lead Phase 1 ‚Äî architecture, ADRs, choix techniques"
      required: true
    - name: "sm"
      role: "Lead Phase 2 ‚Äî sprint planning, story creation, backlog"
      required: true
    - name: "dev"
      role: "Lead Phase 3 ‚Äî impl√©mentation TDD, story execution"
      required: true
    - name: "qa"
      role: "Lead Phase 4 ‚Äî test automation, coverage analysis"
      required: true
    - name: "tech-writer"
      role: "Support ‚Äî documentation, diagrammes, standards"
      required: false

  specialty: "Architecture, Impl√©mentation TDD, QA Automation, Documentation"
  out_of_scope:
    - "Product discovery et strat√©gie ‚Äî d√©l√©gu√© √† Team Vision"
    - "D√©ploiement production et monitoring ‚Äî d√©l√©gu√© √† Team Ops"
    - "D√©cisions business ‚Äî Team Vision uniquement"

  inputs:
    required:
      - name: "Delivery Contract depuis Team Vision"
        description: "PRD valid√© + UX Specs + contrat sign√©"
        path_pattern: "_bmad-output/contracts/vision-to-build-*.md"
      - name: "PRD valid√©"
        description: "Requirements complets avec ACs"
        path_pattern: "_bmad-output/planning-artifacts/PRD-*.md"
    optional:
      - name: "UX Specs"
        description: "User journeys et composants UI"
        path_pattern: "_bmad-output/planning-artifacts/UX-specs-*.md"

  outputs:
    deliverables:
      - name: "Architecture Decision Records"
        format: "Markdown"
        path_pattern: "_bmad-output/implementation-artifacts/architecture-*.md"
        acceptance_criteria: "Tous les choix techniques justifi√©s, trade-offs document√©s"
      - name: "Sprint Plan"
        format: "Markdown"
        path_pattern: "_bmad-output/implementation-artifacts/sprint-plan-*.md"
        acceptance_criteria: "Epics + Stories avec ACs, story points estim√©s, sprint 1 pr√™t"
      - name: "Code impl√©ment√©"
        format: "Code source"
        path_pattern: "src/ ou r√©pertoire projet"
        acceptance_criteria: "Tous les tests passent (CC PASS), coverage ‚â• 80% si applicable"
      - name: "Rapport QA"
        format: "Markdown"
        path_pattern: "_bmad-output/implementation-artifacts/qa-report-*.md"
        acceptance_criteria: "0 test failing, tous les ACs couverts par tests"
      - name: "Delivery Contract vers Team Ops"
        format: "Markdown"
        path_pattern: "_bmad-output/contracts/build-to-ops-*.md"
        acceptance_criteria: "Code review pass√©e, CC PASS confirm√©, doc √† jour"
    optional_deliverables:
      - name: "Documentation technique"
        condition: "Si API publique ou onboarding d√©veloppeurs"
      - name: "Performance benchmark"
        condition: "Si SLA de performance d√©fini dans le PRD"

  sla:
    estimated_steps: 12
    estimated_tokens: "150K-300K tokens"
    blocking_conditions:
      - "Tous les tests passent (CC PASS obligatoire)"
      - "Code review effectu√©e et observations adress√©es"
      - "Tous les ACs du PRD couverts par des tests"
      - "Documentation √† jour"

  delivery_workflow:
    phases:
      - phase: 1
        name: "Architecture & Design"
        agents_active: ["architect", "sm"]
        steps:
          - "Lire PRD + UX Specs + Delivery Contract"
          - "Identifier les composants techniques et leurs interfaces"
          - "√âcrire les ADRs pour les choix cl√©s (database, framework, patterns)"
          - "Extended Thinking [THINK] sur les choix critiques"
          - "Valider la faisabilit√© avec les ACs du PRD"
        output: "architecture-{project}-v{n}.md"
      - phase: 2
        name: "Sprint Planning & Stories"
        agents_active: ["sm", "architect"]
        steps:
          - "D√©composer en Epics (groupes de features)"
          - "Cr√©er les User Stories avec ACs mesurables"
          - "Estimer story points"
          - "Construire Sprint 1 (MVP ou slice vertical)"
          - "Cr√©er les fichiers story dans _bmad-output/implementation-artifacts/stories/"
        output: "sprint-plan-{project}-sprint{n}.md"
      - phase: 3
        name: "Implementation TDD"
        agents_active: ["dev"]
        steps:
          - "Lire story file AVANT toute impl√©mentation"
          - "√âcrire tests d'abord (TDD red-green-refactor)"
          - "Impl√©menter le code"
          - "CC PASS obligatoire avant chaque story close"
          - "Marquer [x] tasks uniquement quand tests ET code passent"
        output: "Code source + tests dans le repo"
      - phase: 4
        name: "QA & Documentation"
        agents_active: ["qa", "tech-writer"]
        steps:
          - "Test automation : E2E + API tests"
          - "Coverage analysis et rapport"
          - "Documentation des APIs et composants cl√©s"
          - "Rapport QA final"
        output: "qa-report-{project}-v{n}.md"
      - phase: 5
        name: "Handoff vers Team Ops"
        agents_active: ["sm", "dev"]
        steps:
          - "Code review finale"
          - "V√©rifier que tous les ACs PRD sont couverts"
          - "R√©diger Delivery Contract build-to-ops"
          - "Notifier Team Ops [*‚Üíops] dans shared-context.md"
        output: "contracts/build-to-ops-{date}.md"

  team_context:
    directory: "_bmad-output/team-build/"
    files:
      - name: "team-context.md"
        description: "R√©sum√© technique : ADRs, patterns choisis, d√©pendances cl√©s"
      - name: "stories/"
        description: "R√©pertoire des story files"
      - name: "test-reports/"
        description: "Rapports CC PASS/FAIL par story"
    shared_with: ["team-ops"]

  allowed_tools:
    - "read_file"
    - "create_file"
    - "replace_string_in_file"
    - "multi_replace_string_in_file"
    - "semantic_search"
    - "grep_search"
    - "list_dir"
    - "run_in_terminal"
    - "get_errors"

  handoff:
    to_team: "team-ops"
    trigger: "CC PASS sur toutes les stories + QA report + Delivery Contract sign√©"
    contract_template: "framework/delivery-contract.tpl.md"

  prompts_directory: ".github/prompts/team-build/"
